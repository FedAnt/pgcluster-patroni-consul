# pgcluster
--------------------------------------------------------------------

# patroni
--------------------------------------------------------------------

# etcd
--------------------------------------------------------------------
If patroni cluster didn't started.

Do this command one of etcd server.

::
    `etcdctl rm /service/pg-ha-cluster --recursive`

# consul
--------------------------------------------------------------------
**bind_addr** — адрес, на котором будет слушать наш сервер консул. Это может быть IP любого из наших сетевых интерфейсов или, как в данном примере, все.

**bootstrap_expect** — ожидаемое количество серверов в кластере.

**client_addr** — адрес, к которому будут привязаны клиентские интерфейсы.

**datacenter** — привязка сервера к конкретному датацентру. Нужен для логического разделения. Серверы с одинаковым датацентром должны находиться в одной локальной сети.

**data_dir** — каталог для хранения данных.

**domain** — домен, в котором будет зарегистрирован сервис.

**enable_script_checks** — разрешает на агенте проверку работоспособности.

**dns_config** — параметры для настройки DNS.

**enable_syslog** — разрешение на ведение лога.

**encrypt** — ключ для шифрования сетевого трафика. В качестве значения используем сгенерированный ранее.

**leave_on_terminate** — при получении сигнала на остановку процесса консула, корректно отключать ноду от кластера.

**log_level** — минимальный уровень события для отображения в логе. Возможны варианты "trace", "debug", "info", "warn", and "err".

**rejoin_after_leave** — по умолчанию, нода покидающая кластер не присоединяется к нему автоматически. Данная опция позволяет управлять данным поведением.

**retry_join** — перечисляем узлы, к которым можно присоединять кластер. Процесс будет повторяться, пока не завершиться успешно.

**server** — режим работы сервера.

**start_join** — список узлов кластера, к которым пробуем присоединиться при загрузке сервера.

**ui_config** — конфигурация для графического веб-интерфейса.
